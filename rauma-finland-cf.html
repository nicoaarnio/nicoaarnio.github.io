<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="mystyle.css">
  <title>Finland's Current Time, Date, and Temperature</title>
</head>
<body>
  <h1>Finland's Current Time in Seconds (12-Hour Format)</h1>
  <p id="finland-current-time"></p>

  <h1>Current Date in Finland</h1>
  <p id="finland-current-date"></p>

  <h1>Current Temperature in Rauma, Finland</h1>
  <p>
    <span id="temperature-celsius"></span>
    <span> | </span>
    <span id="temperature-fahrenheit"></span>
  </p>

  <script>
    // Function to fetch weather data from OpenWeatherMap API
    function fetchWeather() {
      const apiKey = '7d9ff038ffeebdc56acf0d45e4dc85a4'; // Replace with your API key
      const apiUrl = 'https://api.openweathermap.org/data/2.5/weather?q=Rauma,fi&units=metric&appid=' + apiKey;

      fetch(apiUrl)
        .then(response => response.json())
        .then(data => {
          const temperatureCelsius = data.main.temp;
          const temperatureFahrenheit = (temperatureCelsius * 9 / 5) + 32;

          const temperatureCelsiusInfo = `${temperatureCelsius.toFixed(1)}°C`;
          const temperatureFahrenheitInfo = `${temperatureFahrenheit.toFixed(1)}°F`;

          document.getElementById('temperature-celsius').textContent = temperatureCelsiusInfo;
          document.getElementById('temperature-fahrenheit').textContent = temperatureFahrenheitInfo;
        })
        .catch(error => {
          console.error('Error fetching weather data:', error);
          document.getElementById('temperature-celsius').textContent = 'Temperature data not available.';
          document.getElementById('temperature-fahrenheit').textContent = '';
        });
    }

    // Function to update the time every second
    function updateFinlandTime() {
      const finlandTime = new Date().toLocaleString('en-US', { timeZone: 'Europe/Helsinki' });
      const [datePart, timePart] = finlandTime.split(', ');

      const [month, day, year] = datePart.split('/');
      const formattedDate = `${month.padStart(2, '0')}/${day.padStart(2, '0')}/${year}`;

      let [time, ampm] = timePart.split(' ');
      let [hours, minutes, seconds] = time.split(':');

      // Convert the hour from 00 to 12 for 12-hour format
      hours = hours % 12 || 12;

      const formattedTime = `${String(hours).padStart(2, '0')}:${minutes.padStart(2, '0')}:${seconds.padStart(2, '0')} ${ampm}`;

      document.getElementById('finland-current-time').textContent = formattedTime;
      document.getElementById('finland-current-date').textContent = formattedDate;
    }

    // Helper function to add leading zero to numbers less than 10
    function addLeadingZero(value) {
      return value < 10 ? '0' + value : value;
    }

    // Initial call to fetch weather and update time every second
    fetchWeather();
    updateFinlandTime();
    setInterval(updateFinlandTime, 1000);
  </script>
</body>
</html>
